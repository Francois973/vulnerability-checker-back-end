require 'test_helper'

class ParserYarnLockServiceTest < ActiveSupport::TestCase
  test "should return parse yarn lock" do
    response_body = file_fixture("yarn_valid.lock").read

    result = ParserYarnLockService.new(response_body).call

    assert_equal "@babel/code-frame", result[0][:name]
    assert_equal Gem::Version.new("7.18.6"), result[0][:version]
  end

  test "should return parse package-lock" do
    response_body = file_fixture("package-lock_valid.json").read

    result = ParserYarnLockService.new(response_body).call

    # assert_equal "@babel/code-frame", result[0][:name]
    # assert_equal Gem::Version.new("7.18.6"), result[0][:version]
  end
end
