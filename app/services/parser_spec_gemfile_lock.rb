require "awesome_print"

class ParserSpecGemfileLock
  def initialize; end

  def call(specs)
    parser_gemfile_lock(specs)
  end

  private

  def parser_gemfile_lock(specs)
    lockfile = Bundler::LockfileParser.new(Bundler.read_file(specs))
    arr_specs = []
    lockfile.specs.each do |s|
      arr_specs << {
        name:    s.name,
        version: s.version
      }
    end
    arr_specs
    ComparisonRubySpecVersions.new.call(arr_specs)
  end
end
