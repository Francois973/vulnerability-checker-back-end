require "awesome_print"

class ParserSpecGemfileLock
  def initialize; end

  def call(specs)
    parser_gemfile_lock(specs)
  end

  private

  def parser_gemfile_lock(specs)
    lockfile = Bundler::LockfileParser.new(Bundler.read_file(specs))
    # binding.pry
    arr_spec = []
    lockfile.specs.each do |s|
      arr_spec << {
        name:    s.name,
        version: s.version
      }
    end
    arr_spec
  end
end
